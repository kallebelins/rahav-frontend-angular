<div class="card card-custom gutter-b">
    <ng-container *ngIf="isLoading">
        <div class="progress progress-modal">
            <div class="progress-bar progress-bar-striped progress-bar-animated bg-primary" role="progressbar"
                style="width: 100%" aria-valuenow="100" aria-valuemin="0" aria-valuemax="100"></div>
        </div>
    </ng-container>

    <div class="card-header">
        <div class="card-title">
            <h3 class="card-label">
                <i class="bi-person-cicle"></i>
                <ng-container *ngIf="model">
                    <span *ngIf="id && isUpdate">Update</span>
                    <span *ngIf="id && isView">View</span>
                    <span *ngIf="!id">Create</span> Customer
                    <span *ngIf="!!id">'{{ model.name }}'</span>
                </ng-container>
            </h3>
        </div>
        <div class="card-toolbar">
            <a type="button" class="btn btn-light" routerLink="/customer">
                <i class="fa fa-arrow-left"></i>Back
            </a>
            <button class="btn btn-secondary ml-2" (click)="reset()">
                <i class="fa fa-redo"></i>Reset
            </button>
        </div>
    </div>
    <div class="card-body">
        <div *ngIf="model">
            <form action="#" class="form form-label-right" [formGroup]="formGroup" (ngSubmit)="save()">
                <div class="form-group row">
                    <div class="col-lg-4">
                        <label class="form-label">Nome</label>
                        <input type="text" class="form-control form-control-lg" id="name" name="name" placeholder="name"
                            autocomplete="off" [class.is-invalid]="isControlInvalid('name')"
                            [class.is-valid]="isControlValid('name')" formControlName="name" />
                        <div class="valid-feedback" *ngIf="isControlValid('name')">
                            The Name was entered correctly
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('required', 'name')">
                            Name is required
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('minlength', 'name')">
                            The Name must be at least 3 characters long
                        </div>
                        <div class="invalid-feedback" *ngIf="controlHasError('maxlength', 'name')">
                            The Name must be a maximum of 100 characters
                        </div>
                    </div>
                </div>
                <div class="form-group">
                    <div class="checkbox-inline">
                        <label class="checkbox">
                            <input type="checkbox" id="active" name="active" formControlName="active" />
                            <span></span>
                            Active?
                        </label>
                    </div>
                </div>
                <div class="d-flex" [ngClass]="isView ? 'justify-content-between' : 'justify-content-end'">
                    <div>
                        <a class="btn btn-default font-weight-bold ml-2" routerLink="/customer">Cancel</a>
                        <button type="submit" class="btn btn-primary font-weight-bold ml-2"
                            [disabled]="formGroup.invalid">
                            Save Customer
                        </button>
                    </div>
                </div>
            </form>
        </div>
    </div>
</div>